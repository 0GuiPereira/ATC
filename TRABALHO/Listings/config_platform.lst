C51 COMPILER V9.60.7.0   CONFIG_PLATFORM                                                   01/09/2024 18:31:50 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE CONFIG_PLATFORM
OBJECT MODULE PLACED IN .\Objects\config_platform.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE config_platform.c OPTIMIZE(0,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Li
                    -stings\config_platform.lst) TABS(2) OBJECT(.\Objects\config_platform.obj)

line level    source

   1          #include <REG51F380.H>
   2          
   3          
   4            /* enable cross-bar for I/Os 
   5             * PB1 = 0.6; PB2 = 0.7;
   6             * 7seg display = P2;
   7             * uart0 tx = 0.4; uart rx = 0.5 
   8             * i2c SDA = 0.2; i2c SCK = 0.3;
   9            */
  10          
  11          /*
  12          SDA - P0.2
  13          SCLK - P0.3
  14          GND - GND
  15          VCC - 5V
  16          */
  17          
  18          
  19          
  20          // Peripheral specific initialization functions,
  21          // Called from the Init_Device() function
  22          void PCA_Init()
  23          {
  24   1          PCA0MD    &= ~0x40;
  25   1          PCA0MD    = 0x00;
  26   1      }
  27          
  28          
  29          
  30          void Port_IO_Init()
  31          {
  32   1          XBR1      = 0x40;
  33   1      }
  34          
  35          
  36          void Oscillator_Init()
  37          {
  38   1          FLSCL     = 0x90;
  39   1          CLKSEL    = 0x03;
  40   1          P0MDOUT   = 0x04;
  41   1      }
  42          
  43          // Initialization function for device,
  44          // Call Init_Device() from your main program
  45          void Init_Device(void)
  46          {
  47   1          PCA_Init();
  48   1          Oscillator_Init();
  49   1          Port_IO_Init();
  50   1        
  51   1      }
  52          
  53          void timerAndInterrups(){
  54   1        //Set by hardware when the Timer 2/3 high byte overflows from 0xFF to 0x00. In 16 bit 
C51 COMPILER V9.60.7.0   CONFIG_PLATFORM                                                   01/09/2024 18:31:50 PAGE 2   

  55   1        //mode, this will occur when Timer 2/3 overflows from 0xFFFF to 0x0000.   
  56   1        TF2H = 0; 
  57   1        //TMR3CN &= ~(1 << B_TF3H);
  58   1        
  59   1        
  60   1        // Timer 2/3 Run Control. Timer 2/3 is enabled by setting this bit to 1. 
  61   1        //TMR3CN |= (1 << B_TR3);
  62   1        TR2 = 1;
  63   1        
  64   1        EA=1; //enable interrupts
  65   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     38    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
